---
posttype: "docs"
title: Cell span
metaTitle: "Cell span"
metaDescription: "ReactGrid docs"
---

## Spanned cells in ReactGrid

You can specify the number of [rows](/docs/5.0/6-api/1-types/1-row) or [columns](/docs/5.0/6-api/1-types/2-column) a cell spans by using the `rowSpan` and `colSpan` properties when creating cells for ReactGrid.

#### Live example

---

import LiveCode from "@/nextra/components/LiveCode.tsx";
import React, { useState } from "react";
import {
  ReactGrid,
  NumberCell,
  TextCell,
  NonEditableCell,
  Row,
  Cell,
} from "@silevis/reactgrid";

<LiveCode
scope={{
  useState,
  ReactGrid,
  NumberCell,
  TextCell,
  NonEditableCell,
  Row,
  Cell,
}}
code={`
const categoryArr = [
  { id: 1, range: "1-5", categoryName: "cat1", percentage: 0.5, records: 10 },
  { id: 2, range: "6-10", categoryName: "cat2", percentage: 0.1, records: 20 },
  { id: 3, range: "11-15", categoryName: "cat2", percentage: 0.1, records: 30 },
  { id: 4, range: "16-20", categoryName: "cat3", percentage: 0.4, records: 40 },
  { id: 5, range: "21-25", categoryName: "cat3", percentage: 0.4, records: 50 },
  { id: 6, range: "26-30", categoryName: "cat3", percentage: 0.4, records: 60 },
];

const headers = ["Range", "Category", "Category %", "Records"];

const SpannedCellsExample = () => {
  const [categories, setCategories] = useState<Category[]>(categoryArr);

  const updateCategories = (id: number, key: string, newValue) => {
    setCategories((prevData) =>
      prevData.map((category) => (category.id !== id ? category : { ...category, [key]: newValue }))
    );
  };

  const generateCells = (
    rows: Row[],
    columns: Column[],
    categories: Category[],
    updateCategories: (id: number, key: string, newValue) => void
  ): Cell[] => {
    const cells: Cell[] = [];

    rows.forEach((row, rowIndex) => {
      const categoryRowIndex = rowIndex;

      if (rowIndex === 0) {
        // Header Row
        columns.forEach((col, colIndex) => {
          cells.push({
            rowIndex,
            colIndex,
            Template: NonEditableCell,
            props: {
              value: headers[colIndex],
              style: {
                backgroundColor: "#55bc71",
                display: "flex",
                alignItems: "center",
                justifyContent: "center",
                fontWeight: "bold",
              },
            },
          });
        });
      } else {
        const categoryCells = [
          {
            Template: TextCell,
            props: {
              text: categories[categoryRowIndex - 1].range,
              onTextChanged: (newRange: string) => {
                updateCategories(categories[categoryRowIndex - 1].id, "range", newRange);
              },
            },
          },
          {
            Template: TextCell,
            props: {
              text: categories[categoryRowIndex - 1].categoryName,
              onTextChanged: (newCategory: string) => {
                updateCategories(categories[categoryRowIndex - 1].id, "categoryName", newCategory);
              },
            },
          },
          {
            Template: NumberCell,
            props: {
              value: categories[categoryRowIndex - 1].percentage,
              onValueChanged: (newPercentage: number) => {
                updateCategories(categories[categoryRowIndex - 1].id, "percentage", newPercentage);
              },
              format: new Intl.NumberFormat("en-US", { style: "percent", minimumFractionDigits: 0 }),
            },
          },
          {
            Template: NumberCell,
            props: {
              value: categories[categoryRowIndex - 1].records,
              onValueChanged: (newRecords: string) => {
                updateCategories(categories[categoryRowIndex - 1].id, "records", newRecords);
              },
            },
          },
        ];

        columns.forEach((col, colIndex) => {
          const cell: Cell = {
            rowIndex,
            colIndex,
            ...categoryCells[colIndex],
          };

          if (colIndex === 1 || colIndex === 2) {
            if (rowIndex === 2) cell.rowSpan = 2;
            if (rowIndex === 4) cell.rowSpan = 3;
            if ([3, 5, 6].includes(rowIndex)) return; // Skip merged cells
          }

          cells.push(cell);
        });
      }
    });

    return cells;
  };

  const rows: Row[] = Array.from({ length: categories.length + 1 }, (_, i) => ({
    rowIndex: i,
    height: 40,
  }));

  const columns: Column[] = headers.map((_, index) => ({
    colIndex: index,
    width: 200,
  }));

  const cells = generateCells(rows, columns, categories, updateCategories);

  return (
      <ReactGrid
        rows={rows}
        columns={columns}
        cells={cells}
        stickyTopRows={1}
      />
  );
};

render(<SpannedCellsExample />, document.getElementById("root"));
`}
/>